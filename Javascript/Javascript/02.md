# 자바스크립트 프로그램 작성법

## 문자코드
자바스크립트 프로그램은 유니코드 문자로 작성한다. 유니코드는 알파벳, 숫자, 기호 뿐만 아니라 전 세계의 문자를 포함한 문자 체계이다. ECMAScript 5 사양에서는 자바스크립트 엔진이 유니코드 버전 3 이상을 지원해야 한다고 명시되어 있다. 또한 ECMAScript 6 사양에서는 유티코드 버전 5.1.0 이상을 지원해야 한다고 명시되어 있다.

## 대문자와 소문자
자바스크립트 프로그램은 알파벳 대문자와 소문자를 구별한다. 예를 들어, a와 A, console과 Console을 각각 다른 문자열로 처리한다. 따라서, console.log로 작성해야 하는 코드를 Console.log처럼 c를 대문자로 잘못 입력하면 오류가 발생한다.


> Console.log("Hello, world");
// Uncaught ReferenceError: Console is not defined.

## 토큰과 공백 문자

### 토큰
프로그램을 구성하는 최소 단위를 토큰(어휘)라고 한다. 자바스크립트 인터프리터는 프로그램을 실행하기에 앞서 프로그램을 토큰으로 분해한다. 이 동작을 어휘 분석이라고 한다. 그 후에 토큰을 한 줄로 나열하고 이것이 자바스크립트의 구문 규약에 비추어 보앗을 때 올바른 프로그램인지 판정한다. 이 동작을 구문 분석(피싱)이라고 한다. 인터프리터에 따라서는 어휘 분석과 구문 분석을 함께 실행하는 경우도 있다. 구문을 분석한 결과, 프로그램에 문제가 없다고 판단하면 프로그램을 실행한다.
 영어 문장에서는 단어가 토큰인데, 'JavaScript is powerful'이라는 문장에서는 JavaScript, is, powerful이라는 단어 세 개와 마침표(.)가 토큰이다. 단어를 더 나누면 단순한 알파벳 나열에 불과해지므로 의미를 부여할 수 없다. 즉, 토큰은 의미를 가지는 최소한의 문자 덩어리라고 할 수 있다.
 예를 들자면, return n*fact(n-1); 부분을 토큰으로 나누어 보면 다음과 같다.
 ```
 return | n | * | fact | ( | n | - | 1 | ) | ;
 ```
 
 ### 공백 문자
 인접한 토큰을 공백 등을 넣지 않고 나열하기만 해서는 토큰을 판별할 수가 없다. 그렇기에 토큰과 토큰 사이에 공백 문자를 입력해서 구분한다. 덧붙여서, 공백 문자를 여러 개 입력해도 공백 문자를 하나만 입력하는 것으로 간주된다.

 ### 공백 문자 생략하기
 토큰과 토큰 사이에 공백 문자가 없어도 토큰을 판별할 수 있는 경우가 있는데, 이때는 공백 문자를 생략할 수 있다. =, +, -, *, /와 같은 산술 연산자 앞뒤의 공백 문자, ( , ), { , }, [ , ]와 같은 괄호 앞뒤의 공백 문자, 세미콜론(;), 쉼표(,), 콜론(;), 마침표(.) 앞뒤의 공백 문자는 생략할 수 있다. 이러한 토큰은 토큰을 분리하기 때문에 분리자 또는 구분자라고 부른다. 특히 마침표(.) 문자 앞뒤로 공백 문자를 넣거나 여는 괄호([) 앞부분에 공백 문자를 넣으면 코드를 이해하기가 어려워지므로 공백 문자를 반드시 생략한다.

 ### 프로그램 가독성 높이기
 토큰 사이에는 공백 문자를 여러 개 입력해도 하나로 간주한다. 이 성질을 응용하면 프로그램을 사람들이 이해하기 쉽게 작성할 수 있으며 이를 프로그램의 가독성 높이기라고 한다.
 
 ```
 function fact(n) {if(n<=1)return n;return n*fact(n-1);}
 ```

 그러나 편안하게 일을 수 있도록 공백 문자, 탭 문자, 개행 문자를 적절히 추가해서 작성하는 것이 좋다.

 ```
 function fact(n){
     if(n<=1) return n;
     return n*fact(n-1);
 }
 ```

 ### 문장
 영어는 단어 하나만으로는 의사를 표현할 수 없는 언어다. 단어가 적절히 조합된 한 문장으로 의사를 표현한다. 그리고 문장 끝에는 마침표(.)를 붙여서 문장이 끝났다고 명시한다. 자바스크립트에서는 토큰 하나만으로는 프로그램이 실행하려는 명령을 표현할 수 가 없기에 토큰을 나열하여 한 문장을 만들고 문장을 이용해 컴퓨터에 명령을 내린다. 자바스크립트는 세미콜론(;)으로 문장을 끝낸다.
 
 ```
 console.log(i + "! = " + fact(i));
 ```
이 코드는 소괄호 안에 들어 있는 값을 콘솔에 출력하라는 명령을 표현한 것이다.

```
var x;                          // 변수 선언
message = "Hi, " + name;        // 표현식의 대입
counter++;                      // 변수 값 증가
prompt("이름을 입력하십시오");    // 함수 호출
```

문장 끝에는 반드시 세미콜론을 붙이고 특별한경우를 제외하고는 개행 문자로 줄을 바꿔야 한다.

### 복합문

```
{
    sum = sum + x;
    console.log("sum = " + x);
}
```

복합문 끝에는 세미콜론을 붙이지 않는다. 복합문의 중괄호 안에 포함된 문장은 중괄호를 기준으로 들여쓰기를 할 수 있다. 들여쓰기를 하지 않아도 오류가 발생하지 않지만 들여쓰기를 하면 프로그램의 계층 구조를 명시할 수 있어 프로그램을 읽기가 쉬워진다.
복합문은 일반적으로 if 문이나 white문 등의 제어 구문에 사용한다.

### 빈 문장
빈 문장은 말 그대로 문장이 하나도 없다는 뜻으로 세미콜론으로 작성한다.

```
;
```

빈 문장은 실행해도 자바스크립트로 인터프리터가 아무런 작업을 하지 않는다.

### 세미콜론 자동 추가

문장을 작 성하고 다음 줄에 문장을 작성하면 앞 문장 끝에 세미코롤닝 없어도 자바스크립트 엔진이 자동으로 세미콜론을 추가한다.

```
console.log("Hello")
console.log("Hi)
```

위의 코드를 자바스크립트는

```
console.log("Hello");
console.log("Hi");
```

로 해석하지만, 자바스크립트 엔진은 세미콜론을 생략한 줄이 다음 줄과 이어지고 있다고 판단하면 세미콜론을 자동으로 추가하지 않는다.

```
c = a+b
(x+y).toString()
```

이 코드에서는 2번째 줄의 (x+y)가 첫 번째 줄의 b 함수를 호출하는 코드라고 볼 수 있으므로 자바스크립트 엔진이 다음과 같이 해석한다.

```
c = a + b(x+y).toString();
```

세미콜론 자동 삽입 규칙에는 예외가 있는데 return 문, break문, continue 문을 사용할 때 제외된다.

```
return
1;
```

이렇게 작성할 경우, 다음과 같은 결과가 나온다.

```
return;
1;
```
그렇기 때문에, 세미콜론이 잗오으로 추가되는 상황과 그렇지 않은 상황이 발생할 수가 있어 예상치 못한 오류가 발생하는 원인이 된다. 그러므로 문장 끝에는 반드시 세밐로론을 입력해야 한다. 또한 retrun, break, continue 등을 사용할 때는 줄 바꿈을 하지 말고 모두 한 줄로 작성해야 한다.

### 주석
주석은 프로그램의 소스 코드에 삽입하는 설명문으로 주로 작성자와 다른 사람이 프로그램을 쉽게 이해할 수 있도록 작성한다. 대게 다른 사람이 작성한 프로그램은 이해하기가 쉽지 않는데 이럴 때 프로그램의 적재적소에 주석이 포함되어 있으면 프로그램을 이해하는 데 많은 도움이 된다. 주석문은 다음과 같이 표현한다.

```
/* 주석문 */
// 주석문
function fact(n){
    if(n<=1) return n;  //재귀종료
    return n*fact(n-1); //재귀 호출
}
// i값을 1에서 9까지 1씩 증가시키면서 i의 팩토리얼을 콘솔에 출력한다.
for(var i=1; i<10; i++){
    console.log(i + "! = " + fact(i));
}
```

/* ~ */로 작성한 주석은 줄 중간에 넣을 수도 있다.

```
while(!a[++i]) /* 빈 문장 */ ;
```

주석은 코드 일부분을 일시적으로 실행하지 않을 때도 활용할 수 있는데, 이러한 기법을 코멘트 아웃이라고 한다.

```
/*
if(n<=1) return n;
return n*fact(n-1);
*/ 
```

이 코드에서는 프로그램을 실행할 때 주석으로 처리된 코드를 무시한다.
또한, 한 줄만 주석으로 처리할 때는 //가 간편하다.